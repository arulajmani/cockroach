# Walk through a full set of scenarios pertaining to  system span configs.

# Test with an empty slate.
kvaccessor-system-scfgs-get
----

kvaccessor-system-scfgs-update
delete [cluster]
----
err: expected to delete 1 row(s), deleted 0

kvaccessor-system-scfgs-update
delete [tenant 10]
----
err: expected to delete 1 row(s), deleted 0

# Verify that writing, reading, and deleting a single entry behaves as expected.
kvaccessor-system-scfgs-update
upsert [cluster]:C
----
ok

kvaccessor-system-scfgs-get
----
[cluster]:C

kvaccessor-system-scfgs-update
delete [cluster]
----
ok

# Verify writing and getting multiple entries works as expected.
kvaccessor-system-scfgs-update
upsert [cluster]:C
upsert [tenant 10]:B
----
ok

kvaccessor-system-scfgs-get
----
[cluster]:C
[tenant 10]:B

# Verify updating existing entries and adding new entries works as expected.
kvaccessor-system-scfgs-update
upsert [cluster]:D
upsert [tenant 20]:E
upsert [tenant 30]:F
----
ok


kvaccessor-system-scfgs-get
----
[cluster]:D
[tenant 10]:B
[tenant 20]:E
[tenant 30]:F


# Verify deleting some of the entries works as expected.
kvaccessor-system-scfgs-update
delete [cluster]
delete [tenant 10]
----
ok

kvaccessor-system-scfgs-get
----
[tenant 20]:E
[tenant 30]:F
